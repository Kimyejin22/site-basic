{"ast":null,"code":"var _jsxFileName = \"C:\\\\GongSite\\\\frontend\\\\src\\\\components\\\\MyPage\\\\QuoteManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuoteManagement = ({\n  companyType\n}) => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true); // 로딩 상태 추가\n  const [error, setError] = useState(null); // 에러 상태 추가\n\n  useEffect(() => {\n    const fetchUserPosts = async () => {\n      const token = localStorage.getItem('token');\n      console.log('Token:', token); // 디버깅용 로그 추가\n      if (!token) {\n        setError('로그인이 필요합니다.');\n        setLoading(false);\n        return; // 토큰이 없을 경우, 함수를 종료함\n      }\n      try {\n        const response = await fetch('http://api.bestimate.co.kr/api/posts/user', {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${token}` // JWT 토큰을 헤더에 추가\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Failed to fetch posts');\n        }\n        const data = await response.json();\n        setPosts(data);\n      } catch (err) {\n        setError(err.message); // 에러 메시지를 상태에 저장\n      } finally {\n        setLoading(false); // 로딩 상태 종료\n      }\n    };\n    fetchUserPosts();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uB85C\\uB529 \\uC911...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }, this); // 로딩 상태 표시\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uC5D0\\uB7EC \\uBC1C\\uC0DD: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 12\n    }, this); // 에러 발생 시 메시지 출력\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quote-management\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uACAC\\uC801 \\uC758\\uB8B0 \\uAD00\\uB9AC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), companyType === '의뢰사' ? posts.length ? posts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: post.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }, this)]\n    }, post.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uC791\\uC131\\uB41C \\uACAC\\uC801 \\uC758\\uB8B0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uACF5\\uC7A5 \\uACC4\\uC815\\uC740 \\uC774 \\uD398\\uC774\\uC9C0\\uC5D0 \\uC811\\uADFC\\uD560 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(QuoteManagement, \"FFSFm1bVdM1s2gLh8ffGbsIvlRY=\");\n_c = QuoteManagement;\nexport default QuoteManagement;\nvar _c;\n$RefreshReg$(_c, \"QuoteManagement\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","QuoteManagement","companyType","_s","posts","setPosts","loading","setLoading","error","setError","fetchUserPosts","token","localStorage","getItem","console","log","response","fetch","method","headers","ok","Error","data","json","err","message","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","map","post","title","content","id","_c","$RefreshReg$"],"sources":["C:/GongSite/frontend/src/components/MyPage/QuoteManagement.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst QuoteManagement = ({ companyType }) => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true); // 로딩 상태 추가\r\n  const [error, setError] = useState(null); // 에러 상태 추가\r\n\r\n  useEffect(() => {\r\n    const fetchUserPosts = async () => {\r\n      const token = localStorage.getItem('token');\r\n      console.log('Token:', token);  // 디버깅용 로그 추가\r\n      if (!token) {\r\n        setError('로그인이 필요합니다.');\r\n        setLoading(false);\r\n        return; // 토큰이 없을 경우, 함수를 종료함\r\n      }\r\n\r\n      try {\r\n        const response = await fetch('http://api.bestimate.co.kr/api/posts/user', {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`, // JWT 토큰을 헤더에 추가\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch posts');\r\n        }\r\n\r\n        const data = await response.json();\r\n        setPosts(data);\r\n      } catch (err) {\r\n        setError(err.message); // 에러 메시지를 상태에 저장\r\n      } finally {\r\n        setLoading(false); // 로딩 상태 종료\r\n      }\r\n    };\r\n\r\n    fetchUserPosts();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <p>로딩 중...</p>; // 로딩 상태 표시\r\n  }\r\n\r\n  if (error) {\r\n    return <p>에러 발생: {error}</p>; // 에러 발생 시 메시지 출력\r\n  }\r\n\r\n  return (\r\n    <div className=\"quote-management\">\r\n      <h1>견적 의뢰 관리</h1>\r\n      {companyType === '의뢰사' ? (\r\n        posts.length ? (\r\n          posts.map((post) => (\r\n            <div key={post.id}>\r\n              <h2>{post.title}</h2>\r\n              <p>{post.content}</p>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>작성된 견적 의뢰가 없습니다.</p>\r\n        )\r\n      ) : (\r\n        <p>공장 계정은 이 페이지에 접근할 수 없습니다.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuoteManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}